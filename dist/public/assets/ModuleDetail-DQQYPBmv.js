var z=r=>{throw TypeError(r)};var q=(r,s,t)=>s.has(r)||z("Cannot "+t);var n=(r,s,t)=>(q(r,s,"read from private field"),t?t.call(r):s.get(r)),g=(r,s,t)=>s.has(r)?z("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(r):s.set(r,t),v=(r,s,t,i)=>(q(r,s,"write to private field"),i?i.call(r,t):s.set(r,t),t),y=(r,s,t)=>(q(r,s,"access private method"),t);import{S as G,s as W,h as I,g as J,n as $,u as _,r as w,a as X,b as Y,c as Q,d as Z,e as ee,f as K,R as se,i as te,j as e,H as ae,B as o,k as S,l as re,U as ie,F as ne,P as le,D as P,T as ce,m as de,o as k,p as L,C as M,q as E,t as T,v as oe,w as me}from"./index-B07qqHMp.js";var p,j,l,x,h,O,A,U,xe=(U=class extends G{constructor(s,t){super();g(this,h);g(this,p);g(this,j);g(this,l);g(this,x);v(this,p,s),this.setOptions(t),this.bindMethods(),y(this,h,O).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var i;const t=this.options;this.options=n(this,p).defaultMutationOptions(s),W(this.options,t)||n(this,p).getMutationCache().notify({type:"observerOptionsUpdated",mutation:n(this,l),observer:this}),t!=null&&t.mutationKey&&this.options.mutationKey&&I(t.mutationKey)!==I(this.options.mutationKey)?this.reset():((i=n(this,l))==null?void 0:i.state.status)==="pending"&&n(this,l).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=n(this,l))==null||s.removeObserver(this)}onMutationUpdate(s){y(this,h,O).call(this),y(this,h,A).call(this,s)}getCurrentResult(){return n(this,j)}reset(){var s;(s=n(this,l))==null||s.removeObserver(this),v(this,l,void 0),y(this,h,O).call(this),y(this,h,A).call(this)}mutate(s,t){var i;return v(this,x,t),(i=n(this,l))==null||i.removeObserver(this),v(this,l,n(this,p).getMutationCache().build(n(this,p),this.options)),n(this,l).addObserver(this),n(this,l).execute(s)}},p=new WeakMap,j=new WeakMap,l=new WeakMap,x=new WeakMap,h=new WeakSet,O=function(){var t;const s=((t=n(this,l))==null?void 0:t.state)??J();v(this,j,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},A=function(s){$.batch(()=>{var t,i,c,m,a,b,f,C;if(n(this,x)&&this.hasListeners()){const d=n(this,j).variables,u=n(this,j).context;(s==null?void 0:s.type)==="success"?((i=(t=n(this,x)).onSuccess)==null||i.call(t,s.data,d,u),(m=(c=n(this,x)).onSettled)==null||m.call(c,s.data,null,d,u)):(s==null?void 0:s.type)==="error"&&((b=(a=n(this,x)).onError)==null||b.call(a,s.error,d,u),(C=(f=n(this,x)).onSettled)==null||C.call(f,void 0,s.error,d,u))}this.listeners.forEach(d=>{d(n(this,j))})})},U);function he(r,s){const t=_(),[i]=w.useState(()=>new xe(t,r));w.useEffect(()=>{i.setOptions(r)},[i,r]);const c=w.useSyncExternalStore(w.useCallback(a=>i.subscribe($.batchCalls(a)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),m=w.useCallback((a,b)=>{i.mutate(a,b).catch(X)},[i]);if(c.error&&Y(i.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:m,mutateAsync:c.mutate}}/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=Q("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),fe=()=>{var R,B;const r=Z(),s=parseInt(r.id),[,t]=ee(),[i,c]=w.useState("overview"),m=1,{data:a,isLoading:b}=K({queryKey:[`/api/modules/${s}`]}),{data:f,isLoading:C}=K({queryKey:[`/api/users/${m}/progress`],enabled:!!m}),d=se.useMemo(()=>{if(!f)return 0;const N=f.find(F=>F.moduleId===s);return N?N.completionPercentage:0},[f,s]),u=he({mutationFn:async N=>(await oe("POST","/api/progress",{userId:m,moduleId:s,completionPercentage:N})).json(),onSuccess:()=>{me.invalidateQueries({queryKey:[`/api/users/${m}/progress`]})}}),H=()=>{const N=Math.min(d+10,100);u.mutate(N)};if(isNaN(s))return t("/modules"),null;const V=b||C,D=a?te[a.subject]||{bgColor:"bg-gray-100",textColor:"text-gray-600"}:{bgColor:"bg-gray-100",textColor:"text-gray-600"};return e.jsxs(e.Fragment,{children:[e.jsxs(ae,{children:[e.jsx("title",{children:a?`${a.title} | ScienceBridge Bangladesh`:"Module Details | ScienceBridge Bangladesh"}),e.jsx("meta",{name:"description",content:(a==null?void 0:a.description)||"Interactive science learning module"})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(o,{variant:"ghost",className:"mb-6 pl-0",onClick:()=>t("/modules"),children:[e.jsx(ue,{className:"mr-2 h-4 w-4"})," Back to modules"]}),V?e.jsxs("div",{className:"space-y-6",children:[e.jsx(S,{className:"h-8 w-3/4"}),e.jsx(S,{className:"h-64 w-full rounded-lg"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(S,{className:"h-10 w-24"}),e.jsx(S,{className:"h-10 w-32"})]})]}):a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mb-8",children:[e.jsxs("div",{className:"md:w-1/2",children:[e.jsxs("div",{className:"mb-4 flex items-center",children:[e.jsx("span",{className:`text-xs ${D.bgColor} ${D.textColor} px-2 py-1 rounded-full mr-3`,children:a.subject}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(re,{className:"h-5 w-5 text-accent"}),e.jsx("span",{className:"ml-1 text-sm",children:((R=a.rating)==null?void 0:R.toFixed(1))||"0.0"})]})]}),e.jsx("h1",{className:"text-3xl font-bold mb-4",children:a.title}),e.jsx("p",{className:"text-gray-600 mb-6",children:a.description}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ie,{className:"h-5 w-5 mr-1"}),e.jsxs("span",{children:[((B=a.studentCount)==null?void 0:B.toLocaleString())||0," enrolled students"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ne,{className:"h-5 w-5 mr-1"}),e.jsx("span",{children:"12 lessons"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(pe,{className:"h-5 w-5 mr-1"}),e.jsx("span",{children:"5 interactive exercises"})]})]}),e.jsx(le,{value:d,className:"mb-6"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(o,{className:"bg-primary text-white",onClick:H,disabled:u.isPending,children:u.isPending?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Processing..."]}):d>0?e.jsx(e.Fragment,{children:"Continue Learning"}):e.jsx(e.Fragment,{children:"Start Learning"})}),e.jsxs(o,{variant:"outline",className:"flex items-center",children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Download for Offline"]})]})]}),e.jsx("div",{className:"md:w-1/2",children:e.jsx("div",{className:"rounded-lg overflow-hidden h-64 bg-gray-200",children:e.jsx("img",{src:a.thumbnail,alt:a.title,className:"w-full h-full object-cover"})})})]}),e.jsxs(ce,{defaultValue:"overview",value:i,onValueChange:c,className:"mb-8",children:[e.jsxs(de,{children:[e.jsx(k,{value:"overview",children:"Overview"}),e.jsx(k,{value:"content",children:"Content"}),e.jsx(k,{value:"exercises",children:"Exercises"}),e.jsx(k,{value:"resources",children:"Resources"})]}),e.jsx(L,{value:"overview",className:"mt-6",children:e.jsx(M,{children:e.jsxs(E,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"What you'll learn"}),e.jsxs("ul",{className:"space-y-2 mb-6",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(T,{className:"h-5 w-5 text-secondary mr-2 mt-0.5"}),e.jsxs("span",{children:["Understand fundamental principles of ",a.subject.toLowerCase()]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(T,{className:"h-5 w-5 text-secondary mr-2 mt-0.5"}),e.jsx("span",{children:"Apply theoretical knowledge to real-world scenarios"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(T,{className:"h-5 w-5 text-secondary mr-2 mt-0.5"}),e.jsx("span",{children:"Develop critical thinking and analytical skills"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(T,{className:"h-5 w-5 text-secondary mr-2 mt-0.5"}),e.jsx("span",{children:"Perform experiments with minimal equipment"})]})]}),e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Prerequisites"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Basic understanding of science concepts taught in secondary school. No advanced knowledge required - we'll build from the fundamentals."}),e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"About this module"}),e.jsxs("p",{className:"text-gray-600",children:["This comprehensive module provides an in-depth look at ",a.title.toLowerCase(),". The content is designed to be accessible for students with different learning styles and can be downloaded for offline access. Each section includes interactive exercises, quizzes, and real-world applications to reinforce learning."]})]})})}),e.jsx(L,{value:"content",className:"mt-6",children:e.jsx(M,{children:e.jsxs(E,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Module Content"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-md p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("h3",{className:"font-medium",children:["1. Introduction to ",a.title]}),e.jsx("span",{className:"text-xs bg-blue-100 text-primary px-2 py-1 rounded-full",children:"15 min"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Overview of key concepts and terminology"})]}),e.jsxs("div",{className:"border rounded-md p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-medium",children:"2. Core Principles"}),e.jsx("span",{className:"text-xs bg-blue-100 text-primary px-2 py-1 rounded-full",children:"25 min"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Understanding the fundamental principles and theories"})]}),e.jsxs("div",{className:"border rounded-md p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-medium",children:"3. Practical Applications"}),e.jsx("span",{className:"text-xs bg-blue-100 text-primary px-2 py-1 rounded-full",children:"30 min"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Applying concepts to real-world situations"})]}),e.jsxs("div",{className:"border rounded-md p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-medium",children:"4. Advanced Topics"}),e.jsx("span",{className:"text-xs bg-blue-100 text-primary px-2 py-1 rounded-full",children:"20 min"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Exploring complex ideas and current research"})]})]})]})})}),e.jsx(L,{value:"exercises",className:"mt-6",children:e.jsx(M,{children:e.jsxs(E,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Interactive Exercises"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-md p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-medium",children:"Quiz: Basic Concepts"}),e.jsx("span",{className:"text-xs bg-green-100 text-secondary px-2 py-1 rounded-full",children:"10 questions"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Test your understanding of the fundamental concepts"}),e.jsx(o,{variant:"outline",size:"sm",children:"Start Quiz"})]}),e.jsxs("div",{className:"border rounded-md p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-medium",children:"Interactive Experiment"}),e.jsx("span",{className:"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded-full",children:"Simulation"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Conduct a virtual experiment to observe reactions and outcomes"}),e.jsx(o,{variant:"outline",size:"sm",children:"Launch Experiment"})]}),e.jsxs("div",{className:"border rounded-md p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-medium",children:"Problem Set"}),e.jsx("span",{className:"text-xs bg-amber-100 text-amber-600 px-2 py-1 rounded-full",children:"5 problems"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Solve practical problems applying the module concepts"}),e.jsx(o,{variant:"outline",size:"sm",children:"View Problems"})]})]})]})})}),e.jsx(L,{value:"resources",className:"mt-6",children:e.jsx(M,{children:e.jsxs(E,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Additional Resources"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-md p-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Reference Guide"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Complete reference sheet for formulas and key concepts"})]}),e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center",children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Download PDF"]})]}),e.jsxs("div",{className:"border rounded-md p-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Lab Worksheet"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Printable worksheet for hands-on experiments"})]}),e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center",children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Download PDF"]})]}),e.jsxs("div",{className:"border rounded-md p-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Additional Reading"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Supplementary material for deeper understanding"})]}),e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center",children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Download PDF"]})]})]})]})})})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Module Not Found"}),e.jsx("p",{className:"text-gray-600",children:"The module you're looking for doesn't exist or has been removed."}),e.jsx(o,{className:"mt-6 bg-primary text-white",onClick:()=>t("/modules"),children:"Browse All Modules"})]})]})]})};export{fe as default};
